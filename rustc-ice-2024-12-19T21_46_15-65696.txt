thread 'rustc' panicked at compiler\rustc_borrowck\src\type_check\free_region_relations.rs:93:9:
can't find an upper bound!?
stack backtrace:
   0:     0x7ffda6c17923 - std::backtrace_rs::backtrace::dbghelp64::trace
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\std\src\..\..\backtrace\src\backtrace\dbghelp64.rs:91
   1:     0x7ffda6c17923 - std::backtrace_rs::backtrace::trace_unsynchronized
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\std\src\..\..\backtrace\src\backtrace\mod.rs:66
   2:     0x7ffda6c17923 - std::backtrace::Backtrace::create
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\std\src\backtrace.rs:331
   3:     0x7ffda6c1786a - std::backtrace::Backtrace::force_capture
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\std\src\backtrace.rs:312
   4:     0x7ffda82324f1 - core[7ac1c22baf1fc296]::slice::sort::unstable::heapsort::heapsort::<((rustc_lint_defs[2267170210f33b7e]::Level, &str), usize), <((rustc_lint_defs[2267170210f33b7e]::Level, &str), usize) as core[7ac1c22baf1fc296]::cmp::PartialOrd>::lt>
   5:     0x7ffda6c32992 - alloc::boxed::impl$30::call
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\alloc\src\boxed.rs:1984
   6:     0x7ffda6c32992 - std::panicking::rust_panic_with_hook
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\std\src\panicking.rs:825
   7:     0x7ffda6c326b2 - std::panicking::begin_panic_handler::closure$0
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\std\src\panicking.rs:683
   8:     0x7ffda6c2fecf - std::sys::backtrace::__rust_end_short_backtrace<std::panicking::begin_panic_handler::closure_env$0,never$>
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\std\src\sys\backtrace.rs:168
   9:     0x7ffda6c322ee - std::panicking::begin_panic_handler
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\std\src\panicking.rs:681
  10:     0x7ffda9ad6c91 - core::panicking::panic_fmt
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\core\src\panicking.rs:75
  11:     0x7ffda8b87b8c - <&mut rustc_borrowck[18f21ddbf9979dd0]::type_check::constraint_conversion::ConstraintConversion as rustc_infer[51f34478c63ff8c9]::infer::outlives::obligations::TypeOutlivesDelegate>::push_verify
  12:     0x7ffda72bbd2c - rustc_borrowck[18f21ddbf9979dd0]::dataflow::calculate_borrows_out_of_scope_at_location
  13:     0x7ffda73b1b61 - <rustc_borrowck[18f21ddbf9979dd0]::type_check::TypeChecker>::push_region_constraints
  14:     0x7ffda730a4ea - rustc_borrowck[18f21ddbf9979dd0]::mir_borrowck
  15:     0x7ffda79d714b - rustc_query_impl[85a1f72e83c0faa2]::plumbing::query_key_hash_verify_all
  16:     0x7ffda791cae8 - RINvNtNtCs86AUpoGx6lw_18rustc_query_system5query8plumbing17try_execute_queryINtCsbtk3X5ksLVm_16rustc_query_impl13DynamicConfigINtNtCs3qkBgBVgqXL_21rustc_data_structures9vec_cache8VecCacheNtNtCs3ZawlPoLjvN_10rustc_span6def_id10LocalDefIdINtNtNtCs9KwWpeYUgxG
  17:     0x7ffda79e1cff - rustc_query_impl[85a1f72e83c0faa2]::plumbing::query_key_hash_verify_all
  18:     0x7ffda65bd7d9 - <rustc_pattern_analysis[30ae4eae487d7b26]::rustc::RustcPatCtxt as rustc_pattern_analysis[30ae4eae487d7b26]::PatCx>::lint_non_contiguous_range_endpoints
  19:     0x7ffda65d7ff3 - <rustc_borrowck[18f21ddbf9979dd0]::type_check::relate_tys::NllTypeRelating as rustc_type_ir[9be50cc20bc7f7bf]::relate::TypeRelation<rustc_middle[7191f6556ed1d9ea]::ty::context::TyCtxt>>::consts
  20:     0x7ffda7370a1d - <rustc_borrowck[18f21ddbf9979dd0]::type_check::TypeChecker>::push_region_constraints
  21:     0x7ffda72e1409 - rustc_borrowck[18f21ddbf9979dd0]::dataflow::calculate_borrows_out_of_scope_at_location
  22:     0x7ffda72b479b - rustc_borrowck[18f21ddbf9979dd0]::dataflow::calculate_borrows_out_of_scope_at_location
  23:     0x7ffda73b1b61 - <rustc_borrowck[18f21ddbf9979dd0]::type_check::TypeChecker>::push_region_constraints
  24:     0x7ffda730a4ea - rustc_borrowck[18f21ddbf9979dd0]::mir_borrowck
  25:     0x7ffda79d714b - rustc_query_impl[85a1f72e83c0faa2]::plumbing::query_key_hash_verify_all
  26:     0x7ffda791cae8 - RINvNtNtCs86AUpoGx6lw_18rustc_query_system5query8plumbing17try_execute_queryINtCsbtk3X5ksLVm_16rustc_query_impl13DynamicConfigINtNtCs3qkBgBVgqXL_21rustc_data_structures9vec_cache8VecCacheNtNtCs3ZawlPoLjvN_10rustc_span6def_id10LocalDefIdINtNtNtCs9KwWpeYUgxG
  27:     0x7ffda79e1cff - rustc_query_impl[85a1f72e83c0faa2]::plumbing::query_key_hash_verify_all
  28:     0x7ffda6caa892 - rustc_interface[971727be2134a514]::passes::resolver_for_lowering_raw
  29:     0x7ffda3c6908e - rustc_interface[971727be2134a514]::passes::analysis
  30:     0x7ffda681b10a - <alloc[1217e3b48df60919]::raw_vec::RawVec<(rustc_query_system[5e6b83962b1c6328]::dep_graph::serialized::SerializedDepNodeIndex, rustc_middle[7191f6556ed1d9ea]::query::on_disk_cache::AbsoluteBytePos)>>::grow_one
  31:     0x7ffda671fd86 - RINvNtNtCs86AUpoGx6lw_18rustc_query_system5query8plumbing17try_execute_queryINtCsbtk3X5ksLVm_16rustc_query_impl13DynamicConfigINtNtB4_6caches11SingleCacheINtNtNtCs9KwWpeYUgxG_12rustc_middle5query5erase6ErasedAhj0_EEKb0_KB3s_KB3s_ENtNtB1f_8plumbing9QueryCtx
  32:     0x7ffda6820cb4 - rustc_query_impl[85a1f72e83c0faa2]::query_system
  33:     0x7ffda3c2f689 - RINvNtNtCsiWuzXlAvklI_3std3sys9backtrace28___rust_begin_short_backtraceNCNCNCINvMNtB6_6threadNtB1h_7Builder16spawn_unchecked_INtNtCs1yjePcZeJAb_5alloc5boxed3BoxDINtNtNtCsaxqMlQFfK8k_4core3ops8function6FnOnceuEp6OutputuNtNtB2G_6marker4SendEL_EuEs_000uECslyv
  34:     0x7ffda3c28094 - RINvNtNtCsiWuzXlAvklI_3std3sys9backtrace28___rust_begin_short_backtraceNCNCNCINvMNtB6_6threadNtB1h_7Builder16spawn_unchecked_INtNtCs1yjePcZeJAb_5alloc5boxed3BoxDINtNtNtCsaxqMlQFfK8k_4core3ops8function6FnOnceuEp6OutputuNtNtB2G_6marker4SendEL_EuEs_000uECslyv
  35:     0x7ffda3c210b9 - RINvNtNtCsiWuzXlAvklI_3std3sys9backtrace28___rust_begin_short_backtraceNCNCINvNtCscYfyxuc1ZJ0_15rustc_interface4util26run_in_thread_with_globalsNCINvB1e_31run_in_thread_pool_with_globalsNCINvNtB1g_9interface12run_compileruNCNvCslyvDZAHZQ2p_17rustc_driver_i
  36:     0x7ffda3c34105 - RINvNtNtCsiWuzXlAvklI_3std3sys9backtrace28___rust_begin_short_backtraceNCNCNCINvMNtB6_6threadNtB1h_7Builder16spawn_unchecked_INtNtCs1yjePcZeJAb_5alloc5boxed3BoxDINtNtNtCsaxqMlQFfK8k_4core3ops8function6FnOnceuEp6OutputuNtNtB2G_6marker4SendEL_EuEs_000uECslyv
  37:     0x7ffda6c4465d - alloc::boxed::impl$28::call_once
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\alloc\src\boxed.rs:1970
  38:     0x7ffda6c4465d - alloc::boxed::impl$28::call_once
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\alloc\src\boxed.rs:1970
  39:     0x7ffda6c4465d - std::sys::pal::windows::thread::impl$0::new::thread_start
                               at /rustc/a4cb3c831823d9baa56c3d90514b75b2660116fa/library\std\src\sys\pal\windows\thread.rs:55
  40:     0x7ffe3cdb259d - BaseThreadInitThunk
  41:     0x7ffe3e2aaf38 - RtlUserThreadStart


rustc version: 1.85.0-nightly (a4cb3c831 2024-12-17)
platform: x86_64-pc-windows-msvc

query stack during panic:
#0 [mir_borrowck] borrow-checking `simulation::packet::<impl at crates\hyperion\src\simulation\packet.rs:20:1: 20:21>::register_packet::{closure#0}`
#1 [mir_borrowck] borrow-checking `simulation::packet::<impl at crates\hyperion\src\simulation\packet.rs:20:1: 20:21>::register_packet`
#2 [analysis] running analysis passes on this crate
end of query stack
